<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>üçΩÔ∏è Food Questions</title>
<style>
* {
margin: 0;
padding: 0;
box-sizing: border-box;
}
body {
font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
background: linear-gradient(135deg, #f5f7fa 0%, #e4edf5 100%);
height: 100vh;
width: 100vw;
overflow: hidden;
position: relative;
display: flex;
flex-direction: column;
color: #333;
}
.students-panel {
width: 320px;
background: rgba(255, 255, 255, 0.95);
backdrop-filter: blur(10px);
border-right: 1px solid rgba(0, 0, 0, 0.08);
padding: 20px 16px;
display: flex;
flex-direction: column;
gap: 16px;
transition: all 0.4s ease;
z-index: 2;
overflow-y: auto;
height: 100vh;
position: fixed;
top: 0;
left: 0;
box-shadow: 2px 0 15px rgba(0, 0, 0, 0.05);
}
.panel-close {
display: none;
position: absolute;
top: 15px;
right: 15px;
background: rgba(255, 255, 255, 0.8);
border: 1px solid rgba(0, 0, 0, 0.1);
border-radius: 50%;
width: 32px;
height: 32px;
cursor: pointer;
align-items: center;
justify-content: center;
font-size: 1.2em;
color: #666;
transition: all 0.2s ease;
}
.panel-close:hover {
background: rgba(255, 107, 107, 0.1);
border-color: rgba(255, 107, 107, 0.3);
color: #ff6b6b;
}
.students-panel.hidden {
width: 0;
padding: 0;
opacity: 0;
overflow: hidden;
}
.class-selector {
display: flex;
gap: 8px;
margin-bottom: 12px;
}
.class-input {
flex: 1;
padding: 8px 12px;
background: rgba(255, 255, 255, 0.8);
border: 1px solid rgba(0, 0, 0, 0.1);
border-radius: 8px;
color: #333;
font-size: 0.95em;
font-size: 16px;
}
.class-input::placeholder {
color: rgba(0, 0, 0, 0.4);
}
.class-input:focus {
outline: none;
border-color: rgba(138, 180, 248, 0.6);
background: rgba(255, 255, 255, 0.9);
box-shadow: 0 0 0 2px rgba(138, 180, 248, 0.1);
}
.add-class-btn {
padding: 8px 14px;
background: rgba(138, 180, 248, 0.2);
border: 1px solid rgba(138, 180, 248, 0.4);
color: #4a6fa5;
border-radius: 8px;
cursor: pointer;
font-size: 0.9em;
font-weight: 600;
transition: all 0.2s;
flex-shrink: 0;
}
.add-class-btn:hover {
background: rgba(138, 180, 248, 0.3);
border-color: rgba(138, 180, 248, 0.6);
}
.classes-list {
display: flex;
flex-direction: column;
gap: 8px;
margin-bottom: 12px;
max-height: 200px;
overflow-y: auto;
padding: 4px;
}
.classes-list::-webkit-scrollbar {
width: 6px;
}
.classes-list::-webkit-scrollbar-track {
background: rgba(0, 0, 0, 0.03);
border-radius: 10px;
}
.classes-list::-webkit-scrollbar-thumb {
background: rgba(0, 0, 0, 0.1);
border-radius: 10px;
}
.classes-list::-webkit-scrollbar-thumb:hover {
background: rgba(0, 0, 0, 0.2);
}
.class-tag {
padding: 10px 14px;
background: rgba(255, 255, 255, 0.6);
border: 1px solid rgba(0, 0, 0, 0.08);
border-radius: 12px;
font-size: 0.95em;
transition: all 0.2s;
display: flex;
align-items: center;
justify-content: space-between;
gap: 12px;
}
.class-tag:hover {
background: rgba(138, 180, 248, 0.1);
border-color: rgba(138, 180, 248, 0.3);
transform: translateX(4px);
}
.class-tag.active {
background: rgba(138, 180, 248, 0.15);
border-color: rgba(138, 180, 248, 0.5);
font-weight: 600;
box-shadow: 0 2px 8px rgba(138, 180, 248, 0.1);
}
.class-tag .class-name {
cursor: pointer;
flex: 1;
display: flex;
align-items: center;
gap: 8px;
}
.class-tag .class-name::before {
content: 'üìö';
font-size: 1.1em;
}
.class-tag.active .class-name::before {
content: '‚úÖ';
}
.class-tag .class-info {
display: flex;
align-items: center;
gap: 10px;
}
.class-tag .student-badge {
background: rgba(0, 0, 0, 0.05);
padding: 2px 8px;
border-radius: 10px;
font-size: 0.8em;
color: rgba(0, 0, 0, 0.6);
}
.class-tag.active .student-badge {
background: rgba(138, 180, 248, 0.2);
color: #4a6fa5;
}
.class-tag .delete-class {
cursor: pointer;
opacity: 0.5;
font-size: 1.4em;
line-height: 1;
padding: 0 4px;
transition: all 0.2s;
color: rgba(0, 0, 0, 0.5);
display: flex;
align-items: center;
justify-content: center;
width: 24px;
height: 24px;
border-radius: 50%;
position: relative;
z-index: 10;
}
.class-tag .delete-class:hover {
opacity: 1;
color: #ff6b6b;
background: rgba(255, 107, 107, 0.1);
transform: rotate(90deg) scale(1.1);
}
.class-tag .delete-class:active {
transform: rotate(90deg) scale(0.9);
}
.students-section h3 {
font-size: 1.1em;
margin-bottom: 12px;
text-align: left;
color: #333;
}
.students-input {
width: 100%;
min-height: 160px;
background: rgba(255, 255, 255, 0.7);
border: 1px solid rgba(0, 0, 0, 0.1);
border-radius: 10px;
padding: 12px;
color: #333;
font-size: 0.95em;
font-size: 16px;
resize: vertical;
font-family: inherit;
box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.05);
}
.students-input:disabled {
background: rgba(255, 255, 255, 0.3);
border-color: rgba(0, 0, 0, 0.05);
cursor: not-allowed;
color: rgba(0, 0, 0, 0.3);
}
.students-input::placeholder {
color: rgba(0, 0, 0, 0.3);
}
.students-input:focus {
outline: none;
border-color: rgba(138, 180, 248, 0.6);
background: rgba(255, 255, 255, 0.9);
box-shadow: 0 0 0 2px rgba(138, 180, 248, 0.1);
}
.student-count {
text-align: left;
color: rgba(0, 0, 0, 0.5);
font-size: 0.85em;
margin-top: 8px;
}
.features-toggle {
display: flex;
align-items: center;
justify-content: center;
gap: 10px;
margin-bottom: 20px;
cursor: pointer;
padding: 8px 16px;
background: rgba(255, 255, 255, 0.6);
border-radius: 25px;
border: 1px solid rgba(0, 0, 0, 0.08);
transition: all 0.3s ease;
}
.features-toggle:hover {
background: rgba(255, 255, 255, 0.8);
border-color: rgba(138, 180, 248, 0.3);
}
.features-toggle:active {
transform: scale(0.98);
}
.toggle-label {
font-size: 1em;
font-weight: 600;
color: rgba(0, 0, 0, 0.8);
}
.toggle-switch {
position: relative;
width: 44px;
height: 24px;
background: rgba(0, 0, 0, 0.1);
border-radius: 20px;
cursor: pointer;
transition: all 0.3s ease;
border: 1px solid rgba(0, 0, 0, 0.15);
}
.toggle-switch.active {
background: rgba(138, 180, 248, 0.3);
border-color: rgba(138, 180, 248, 0.5);
}
.toggle-slider {
position: absolute;
top: 2px;
left: 2px;
width: 18px;
height: 18px;
background: white;
border-radius: 50%;
transition: all 0.3s ease;
box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}
.toggle-switch.active .toggle-slider {
left: 22px;
background: #4a6fa5;
}
@keyframes textChange {
0% {
opacity: 0;
transform: translateY(-10px) scale(0.9);
}
50% {
opacity: 0.5;
transform: translateY(5px) scale(1.05);
}
100% {
opacity: 1;
transform: translateY(0) scale(1);
}
}
.blur-header .header,
.blur-header .features-toggle {
filter: blur(4px);
opacity: 0.6;
transition: all 0.6s ease;
}
.blur-panel .students-panel {
filter: blur(4px);
opacity: 0.6;
transition: all 0.6s ease;
}
.focus-mode .question-card {
transform: scale(1.05);
box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
transition: all 0.6s ease;
filter: none !important;
}
.focus-mode .refresh-btn {
transform: scale(1.1);
box-shadow: 0 10px 30px rgba(138, 180, 248, 0.3);
transition: all 0.6s ease;
filter: none !important;
}
.main-content.centered {
margin-left: 0;
width: 100%;
max-width: none;
}
.copyright.centered {
margin-left: 0;
}
.copyright:not(.centered) {
margin-left: 160px;
}
@media (max-width: 768px) {
.copyright {
margin-left: 0 !important;
}
}
.content-wrapper {
width: 100%;
max-width: 800px;
margin: 0 auto;
display: flex;
flex-direction: column;
align-items: center;
justify-content: center;
min-height: calc(100vh - 100px);
}
.selected-student {
background: rgba(138, 180, 248, 0.15);
border: 2px solid rgba(138, 180, 248, 0.5);
border-radius: 15px;
padding: 20px;
text-align: center;
position: absolute;
top: 20px;
left: 50%;
transform: translateX(-50%) scale(0.8);
opacity: 0;
transition: all 0.6s cubic-bezier(0.68, -0.55, 0.27, 1.55);
z-index: 100;
box-shadow: 0 10px 30px rgba(138, 180, 248, 0.1);
backdrop-filter: blur(10px);
min-width: 300px;
filter: none !important;
}
.selected-student.show {
top: 20px;
opacity: 1;
transform: translateX(-50%) scale(1);
}
.selected-student-label {
color: rgba(0, 0, 0, 0.7);
font-size: 0.95em;
margin-bottom: 10px;
}
.selected-student-name {
color: #333;
font-size: 2.2em;
font-weight: bold;
text-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
transition: all 0.3s ease;
filter: none !important;
}
.selected-student-name.changing {
animation: textChange 0.4s ease-out;
filter: none !important;
}
.main-content {
flex: 1;
display: flex;
flex-direction: column;
align-items: center;
justify-content: center;
padding: 80px 20px 20px 20px;
position: relative;
z-index: 1;
overflow: hidden;
margin-left: 320px;
transition: margin-left 0.4s ease;
}
.header {
text-align: center;
margin-bottom: 25px;
}
.header h1 {
font-size: 2.4em;
margin-bottom: 5px;
color: #4a6fa5;
animation: slideDown 0.6s ease-out;
}
.subtitle {
color: rgba(0, 0, 0, 0.7);
font-size: 1.1em;
margin-top: 8px;
}
.question-counter {
color: rgba(0, 0, 0, 0.6);
font-size: 0.9em;
margin-top: 15px;
text-align: center;
}
.question-card {
background: rgba(255, 255, 255, 0.9);
backdrop-filter: blur(15px);
border: 1px solid rgba(0, 0, 0, 0.08);
border-radius: 20px;
padding: 30px;
width: 100%;
max-width: 900px;
min-height: 180px;
display: flex;
align-items: center;
justify-content: center;
box-shadow:
0 12px 40px rgba(0, 0, 0, 0.08),
inset 0 1px 0 rgba(255, 255, 255, 0.8);
position: relative;
overflow: hidden;
}
.question-text {
color: #333;
font-size: 1.9em;
text-align: center;
font-weight: 500;
line-height: 1.4;
position: relative;
z-index: 1;
animation: questionReveal 1.2s cubic-bezier(0.68, -0.55, 0.27, 1.55);
max-width: 800px;
}
.placeholder {
color: rgba(0, 0, 0, 0.5);
font-style: italic;
font-size: 1.7em;
}
.refresh-btn {
margin-top: 25px;
padding: 14px 45px;
background: rgba(138, 180, 248, 0.2);
border: 1px solid rgba(138, 180, 248, 0.4);
color: #4a6fa5;
border-radius: 25px;
font-size: 1.15em;
font-weight: bold;
cursor: pointer;
transition: all 0.3s ease;
box-shadow: 0 6px 20px rgba(138, 180, 248, 0.15);
position: relative;
overflow: hidden;
display: flex;
align-items: center;
gap: 10px;
}
.refresh-btn::before {
content: 'üçΩÔ∏è';
transition: transform 0.6s ease;
}
.refresh-btn:hover::before {
transform: rotate(360deg);
}
.refresh-btn.loading::before {
animation: spin 1s linear infinite;
}
@keyframes spin {
from { transform: rotate(0deg); }
to { transform: rotate(360deg); }
}
.refresh-btn:hover {
transform: translateY(-4px);
background: rgba(138, 180, 248, 0.3);
box-shadow: 0 10px 25px rgba(138, 180, 248, 0.25);
}
.refresh-btn:active {
transform: translateY(-1px);
}
@keyframes fadeIn {
from { opacity: 0; transform: translateY(30px); }
to { opacity: 1; transform: translateY(0); }
}
@keyframes slideDown {
from { opacity: 0; transform: translateY(-20px); }
to { opacity: 1; transform: translateY(0); }
}
@keyframes questionReveal {
0% {
opacity: 0;
transform: translateY(50px) scale(0.8) rotateX(45deg);
filter: blur(15px);
}
40% {
opacity: 0.7;
transform: translateY(-10px) scale(1.05) rotateX(-10deg);
filter: blur(5px);
}
70% {
opacity: 0.9;
transform: translateY(5px) scale(1.02) rotateX(5deg);
filter: blur(2px);
}
100% {
opacity: 1;
transform: translateY(0) scale(1) rotateX(0deg);
filter: blur(0);
}
}
@keyframes fadeOut {
0% {
opacity: 1;
transform: scale(1) rotate(0deg);
filter: blur(0);
}
100% {
opacity: 0;
transform: scale(1.3) rotate(8deg);
filter: blur(15px);
}
}
@keyframes rotate {
from { transform: rotate(0deg); }
to { transform: rotate(360deg); }
}
@keyframes pulse {
0%, 100% { transform: scale(1); }
50% { transform: scale(1.05); }
}
@keyframes shake {
0%, 100% { transform: translateX(0); }
25% { transform: translateX(-5px); }
75% { transform: translateX(5px); }
}
.btn-success {
animation: pulse 0.6s ease-in-out;
}
.btn-error {
animation: shake 0.5s ease-in-out;
}
@media (max-width: 1024px) {
.students-panel { width: 280px; }
.question-text { font-size: 1.8em; }
}
@media (max-width: 768px) {
body {
overflow-y: auto;
height: auto;
min-height: 100vh;
padding-bottom: 20px;
}
.students-panel {
width: 100% !important;
height: auto;
max-height: 60vh;
border: none;
border-bottom: 1px solid rgba(0,0,0,0.08);
position: fixed;
top: 0;
left: 0;
right: 0;
z-index: 1000;
border-radius: 0 0 20px 20px;
box-shadow: 0 10px 30px rgba(0,0,0,0.1);
padding: 20px 15px;
overflow-y: auto;
}
.panel-close {
display: flex;
position: absolute;
top: 15px;
right: 15px;
width: 32px;
height: 32px;
background: rgba(255, 255, 255, 0.8);
border: 1px solid rgba(0, 0, 0, 0.1);
border-radius: 50%;
cursor: pointer;
align-items: center;
justify-content: center;
font-size: 18px;
color: rgba(0, 0, 0, 0.6);
transition: all 0.3s ease;
z-index: 10;
}
.panel-close:hover {
background: rgba(255, 107, 107, 0.15);
border-color: rgba(255, 107, 107, 0.3);
color: #ff6b6b;
transform: scale(1.1);
}
.panel-close:active {
transform: scale(0.95);
}
.students-panel.hidden {
display: none;
width: 0 !important;
}
.main-content {
padding: 70px 15px 20px 15px;
margin-top: 0;
margin-left: 0;
min-height: 100vh;
display: flex;
flex-direction: column;
justify-content: center;
}
.copyright {
margin-left: 0 !important;
padding: 15px 0 10px 0;
}
.content-wrapper {
min-height: calc(100vh - 90px);
padding: 0;
}
.header h1 { font-size: 1.8em; margin-bottom: 5px; }
.header { margin-bottom: 15px; }
.question-text { font-size: 1.2em; line-height: 1.3; }
.question-card {
padding: 15px 12px;
min-height: auto;
margin: 0;
border-radius: 18px;
}
.features-toggle {
margin: 0 0 15px 0;
padding: 6px 10px;
font-size: 0.85em;
}
.toggle-label {
font-size: 0.85em;
}
.selected-student {
top: 15px;
padding: 15px;
min-width: 250px;
}
.selected-student.show {
top: 15px;
}
.selected-student-name {
font-size: 1.8em;
}
.refresh-btn {
padding: 10px 25px;
font-size: 0.95em;
margin-top: 20px;
}
.question-counter {
font-size: 0.8em;
margin: 10px 0 5px 0;
}
.class-selector {
margin-bottom: 10px;
}
.classes-list {
margin-bottom: 10px;
max-height: 150px;
}
.students-section h3 {
font-size: 1em;
margin-bottom: 8px;
}
.students-input {
min-height: 120px;
font-size: 0.9em;
}
}
@media (max-width: 480px) {
.header h1 { font-size: 2.0em; }
.question-text { font-size: 1.15em; }
.refresh-btn {
padding: 12px 25px;
font-size: 1em;
}
}
.copyright {
text-align: center;
padding: 20px 0 10px 0;
width: 100%;
margin-top: auto;
flex-shrink: 0;
position: relative;
z-index: 10;
transition: margin-left 0.6s ease;
}
.copyright-link {
color: rgba(0, 0, 0, 0.5);
font-size: 0.85em;
text-decoration: none;
display: inline-block;
transition: all 0.3s ease;
cursor: pointer;
}
.copyright-link:hover {
color: rgba(0, 0, 0, 0.7);
text-decoration: underline;
transform: translateY(-1px);
}
.copyright-link p {
margin: 2px 0;
line-height: 1.2;
}
</style>
</head>
<body>
<div class="app-container" style="display: flex; flex-direction: column; min-height: 100vh; width: 100%;">
<div style="display: flex; flex: 1; width: 100%;">
<div class="students-panel hidden" id="studentsPanel">
<div class="panel-close" id="panelClose" onclick="toggleStudents()">‚úï</div>
<div class="class-selector">
<input type="text" class="class-input" id="newClassName" placeholder="e.g., 8-A" maxlength="20">
<button class="add-class-btn" onclick="addClass()">+</button>
</div>
<div class="classes-list" id="classesList"></div>
<div class="students-section">
<h3>üë• Students (<span id="currentClassDisplay">‚Äî</span>)</h3>
<textarea
class="students-input"
id="studentsInput"
placeholder="First, create a class using the field above..."
oninput="saveCurrentClassData()"
disabled
></textarea>
<div class="student-count" id="studentCount">0 students</div>
</div>
</div>
<div class="main-content">
<div class="content-wrapper">
<div class="selected-student" id="selectedStudent" style="display: none;">
<div class="selected-student-label">Selected Student:</div>
<div class="selected-student-name" id="selectedStudentName"></div>
</div>
<div class="header">
<h1>üçΩÔ∏è Food Questions üçï</h1>
<p class="subtitle">Click Refresh for a tasty English conversation starter!</p>
</div>
<div class="features-toggle">
<span class="toggle-label">Student Randomizer</span>
<div class="toggle-switch" id="studentToggle" onclick="toggleStudents()">
<div class="toggle-slider"></div>
</div>
</div>
<div class="question-card">
<p class="question-text placeholder" id="question">Click Refresh to get your food question!</p>
</div>
<div class="question-counter" id="questionCounter">50 questions available</div>
<button class="refresh-btn" onclick="refreshQuestion()">Refresh Question</button>
</div>
</div>
</div>
<script>
const foodQuestions = [
"What is your favorite food? üçï",
"What do you eat for breakfast? ü•£",
"Do you like sweet or salty snacks? üç™üçü",
"What is your favorite fruit? üçé",
"What drink do you like most? ü•§",
"Do you like coffee or tea? ‚òï",
"What is your favorite dessert? üç∞",
"What do you eat for lunch? üç±",
"What is your favorite vegetable? ü•¶",
"Do you like eggs? How do you eat them? ü•ö",
"What is your favorite breakfast food? ü•ê",
"What is your favorite dinner? üçΩÔ∏è",
"What is your favorite drink? üßÉ",
"What is your favorite candy? üç¨",
"Do you like hot or cold food? üî•‚ùÑÔ∏è",
"Do you like apples or bananas more? üçéüçå",
"What do you eat with friends? üçï",
"What is your favorite breakfast drink? ‚òï",
"What do you eat at school? üç±",
"Do you like to cook? What do you cook? üë®‚Äçüç≥"
];

let usedQuestions = [];
let studentRandomizerEnabled = false;
let classesData = {};
let currentClass = null;

function init() {
const saved = localStorage.getItem('foodQuestionsClasses');
if (saved) {
try {
classesData = JSON.parse(saved);
} catch (e) {
classesData = {};
}
}
renderClassesList();
if (Object.keys(classesData).length > 0) {
selectClass(Object.keys(classesData)[0]);
} else {
updateInputState();
}
if (!studentRandomizerEnabled) {
document.querySelector('.main-content').classList.add('centered');
document.querySelector('.copyright').classList.add('centered');
}
document.getElementById('newClassName').addEventListener('keypress', (e) => {
if (e.key === 'Enter') addClass();
});
updateQuestionCounter();
}

function updateInputState() {
const input = document.getElementById('studentsInput');
if (!currentClass) {
input.disabled = true;
input.placeholder = 'First, create a class using the field above...';
} else {
input.disabled = false;
input.placeholder = 'Enter student names (one per line):\nJohn Smith\nMaria Garcia\n...';
}
}

function saveToLocalStorage() {
localStorage.setItem('foodQuestionsClasses', JSON.stringify(classesData));
}

function addClass() {
if (currentClass) {
saveCurrentClassData();
}
const input = document.getElementById('newClassName');
let className = input.value.trim();
if (!className) {
input.style.animation = 'shake 0.5s ease-in-out';
input.placeholder = 'Please enter a class name!';
setTimeout(() => {
input.style.animation = '';
input.placeholder = 'e.g., 8-A';
}, 2000);
return;
}
className = className.replace(/[<>:"/\\|?*]/g, '').substring(0, 20);
if (!className) {
input.style.animation = 'shake 0.5s ease-in-out';
input.value = '';
input.placeholder = 'Invalid class name!';
setTimeout(() => {
input.style.animation = '';
input.placeholder = 'e.g., 8-A';
}, 2000);
return;
}
if (classesData[className]) {
input.style.animation = 'shake 0.5s ease-in-out';
input.value = '';
input.placeholder = 'Class already exists!';
setTimeout(() => {
input.style.animation = '';
input.placeholder = 'e.g., 8-A';
}, 2000);
return;
}
classesData[className] = [];
saveToLocalStorage();
renderClassesList();
currentClass = className;
document.getElementById('currentClassDisplay').textContent = className;
document.getElementById('studentsInput').value = '';
updateStudentCount();
updateInputState();
setTimeout(() => {
const newTag = document.querySelector(`[data-class="${className}"]`);
if (newTag) {
newTag.classList.add('btn-success');
setTimeout(() => newTag.classList.remove('btn-success'), 600);
}
}, 100);
input.value = '';
input.placeholder = 'Class created successfully!';
setTimeout(() => {
input.placeholder = 'e.g., 8-A';
}, 2000);
}

function deleteClass(className, event) {
event.preventDefault();
event.stopPropagation();
if (confirm(`Delete class "${className}"?`)) {
delete classesData[className];
saveToLocalStorage();
currentClass = null;
document.getElementById('currentClassDisplay').textContent = '‚Äî';
document.getElementById('studentsInput').value = '';
updateStudentCount();
updateInputState();
renderClassesList();
}
}

function selectClass(className) {
if (currentClass && currentClass !== className) {
saveCurrentClassData();
}
currentClass = className;
document.getElementById('currentClassDisplay').textContent = className;
const list = classesData[className] || [];
document.getElementById('studentsInput').value = list.join('\n');
updateStudentCount();
updateInputState();
document.querySelectorAll('.class-tag').forEach(tag => {
if (tag.dataset.class === className) {
tag.classList.add('active');
} else {
tag.classList.remove('active');
}
});
}

function renderClassesList() {
const container = document.getElementById('classesList');
container.innerHTML = '';
for (const className in classesData) {
const tag = document.createElement('div');
tag.className = 'class-tag';
if (className === currentClass) tag.classList.add('active');
tag.dataset.class = className;
const nameSpan = document.createElement('span');
nameSpan.className = 'class-name';
nameSpan.textContent = className;
nameSpan.onclick = () => selectClass(className);
const infoSpan = document.createElement('span');
infoSpan.className = 'class-info';
const studentCount = classesData[className]?.length || 0;
const badge = document.createElement('span');
badge.className = 'student-badge';
badge.textContent = studentCount;
badge.title = `${studentCount} student${studentCount !== 1 ? 's' : ''}`;
infoSpan.appendChild(badge);
const deleteBtn = document.createElement('span');
deleteBtn.className = 'delete-class';
deleteBtn.innerHTML = '√ó';
deleteBtn.title = `Delete class "${className}"`;
deleteBtn.onclick = (e) => deleteClass(className, e);
infoSpan.appendChild(deleteBtn);
tag.appendChild(nameSpan);
tag.appendChild(infoSpan);
container.appendChild(tag);
}
}

function saveCurrentClassData() {
if (!currentClass) return;
const input = document.getElementById('studentsInput').value;
const list = input.split('\n').map(s => s.trim()).filter(s => s !== '');
classesData[currentClass] = list;
saveToLocalStorage();
updateStudentCount();
}

function updateStudentCount() {
if (!currentClass) {
document.getElementById('studentCount').textContent = '0 students';
return;
}
const count = classesData[currentClass]?.length || 0;
document.getElementById('studentCount').textContent = `${count} student${count !== 1 ? 's' : ''}`;
}

function toggleStudents() {
studentRandomizerEnabled = !studentRandomizerEnabled;
const panel = document.getElementById('studentsPanel');
const toggle = document.getElementById('studentToggle');
const mainContent = document.querySelector('.main-content');
const copyright = document.querySelector('.copyright');
if (studentRandomizerEnabled) {
toggle.classList.add('active');
panel.classList.remove('hidden');
panel.style.animation = 'questionReveal 0.5s ease-out';
mainContent.classList.remove('centered');
copyright.classList.remove('centered');
setTimeout(() => {
document.getElementById('newClassName').focus();
}, 500);
} else {
toggle.classList.remove('active');
panel.style.animation = 'fadeOut 0.3s ease-in forwards';
setTimeout(() => {
panel.classList.add('hidden');
panel.style.animation = '';
mainContent.classList.add('centered');
copyright.classList.add('centered');
}, 300);
}
}

function selectRandomStudent() {
if (!currentClass || !classesData[currentClass] || classesData[currentClass].length === 0) {
return null;
}
const students = classesData[currentClass];
const randomIndex = Math.floor(Math.random() * students.length);
const selectedName = students[randomIndex].trim();
const el = document.getElementById('selectedStudent');
const nameEl = document.getElementById('selectedStudentName');
const studentsPanel = document.getElementById('studentsPanel');
const mainContent = document.querySelector('.main-content');
if (el.classList.contains('show')) {
el.classList.remove('show');
studentsPanel.classList.remove('blur-panel');
mainContent.classList.remove('blur-header', 'focus-mode');
setTimeout(() => {
nameEl.textContent = selectedName;
nameEl.classList.add('changing');
el.style.display = 'block';
el.classList.remove('show');
studentsPanel.classList.add('blur-panel');
mainContent.classList.add('blur-header', 'focus-mode');
setTimeout(() => {
el.classList.add('show');
setTimeout(() => {
nameEl.classList.remove('changing');
}, 400);
}, 100);
}, 600);
} else {
nameEl.textContent = selectedName;
nameEl.classList.add('changing');
el.style.display = 'block';
el.classList.remove('show');
studentsPanel.classList.add('blur-panel');
mainContent.classList.add('blur-header', 'focus-mode');
setTimeout(() => {
el.classList.add('show');
setTimeout(() => {
nameEl.classList.remove('changing');
}, 400);
}, 100);
}
return selectedName;
}

function updateQuestionCounter() {
const remaining = foodQuestions.length - usedQuestions.length;
document.getElementById('questionCounter').textContent =
`${remaining} question${remaining !== 1 ? 's' : ''} remaining`;
if (remaining === 0) {
usedQuestions = [];
updateQuestionCounter();
}
}

function refreshQuestion() {
const refreshBtn = document.querySelector('.refresh-btn');
if (studentRandomizerEnabled) {
if (!currentClass || !classesData[currentClass] || classesData[currentClass].length === 0) {
refreshBtn.classList.add('btn-error');
setTimeout(() => refreshBtn.classList.remove('btn-error'), 500);
const questionEl = document.getElementById('question');
questionEl.textContent = 'Please add student names first!';
questionEl.classList.add('placeholder');
questionEl.style.animation = 'shake 0.5s ease-in-out';
setTimeout(() => {
questionEl.style.animation = '';
questionEl.textContent = 'Click Refresh to get your food question!';
}, 2000);
return;
}
selectRandomStudent();
}
refreshBtn.classList.add('loading');
refreshBtn.disabled = true;
refreshBtn.classList.add('btn-success');
setTimeout(() => refreshBtn.classList.remove('btn-success'), 600);
if (usedQuestions.length >= foodQuestions.length) {
usedQuestions = [];
}
const available = foodQuestions.filter((_, i) => !usedQuestions.includes(i));
if (available.length === 0) return;
const idx = Math.floor(Math.random() * available.length);
const questionText = available[idx];
const origIdx = foodQuestions.indexOf(questionText);
usedQuestions.push(origIdx);
const el = document.getElementById('question');
el.style.animation = 'fadeOut 0.5s ease-out forwards';
setTimeout(() => {
el.classList.remove('placeholder');
el.textContent = questionText;
el.style.animation = 'questionReveal 1s cubic-bezier(0.68, -0.55, 0.27, 1.55)';
updateQuestionCounter();
refreshBtn.classList.remove('loading');
refreshBtn.disabled = false;
}, 500);
}

document.addEventListener('keydown', (e) => {
if ((e.code === 'Space' || e.code === 'Enter') && !e.target.matches('input, textarea')) {
e.preventDefault();
refreshQuestion();
}
if (e.code === 'Escape' && studentRandomizerEnabled) {
toggleStudents();
}
if (e.code === 'KeyS' && !e.target.matches('input, textarea')) {
e.preventDefault();
toggleStudents();
}
});

window.addEventListener('DOMContentLoaded', init);
</script>
<div class="copyright">
<a href="https://codenamexxv.github.io/teacher/" target="_blank" class="copyright-link">
<p>Ihor Shuliak</p>
<p>(c) <span id="currentYear"></span></p>
</a>
</div>
<script>
document.getElementById('currentYear').textContent = new Date().getFullYear();
</script>
</div>
</body>
</html>